<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8">
  <title>Stiahnutie PDF + KvÃ­z</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-image: url('https://burodestruct.net/sites/default/files/styles/bd_narrow/public/140jahre_meer_poster1.png?itok=2DfNU59L');
      background-size: cover;
      color: #ffffff;
    }

    .top-bar {
      display: flex;
      justify-content: flex-end;
      padding: 15px;
    }

    .top-bar button {
      background-color: #ff0000;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 10px;
    }

    .container {
      text-align: center;
      margin-top: 40px;
      background: rgb(119, 7, 7);
      padding: 30px;
      border-radius: 40px;
      max-width: 650px;
      margin-left: auto;
      margin-right: auto;
    }

    img {
      max-width: 100%;
      border-radius: 10px;
    }

    button.download {
      padding: 10px 20px;
      font-size: 16px;
      margin-top: 15px;
      cursor: pointer;
      background-color: #ff0000;
      border: none;
      border-radius: 5px;
      color: #ffffff;
    }

    .quiz-popup, .reward-popup {
      display: none;
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      background: #ff0000;
      padding: 30px 30px 20px 30px;
      border-radius: 15px;
      color: white;
      z-index: 10;
      max-width: 500px;
      box-shadow: 0 0 15px rgba(0,0,0,0.7);
    }

    .quiz-popup h2, .reward-popup h2 {
      margin-top: 0;
    }

    .quiz-popup input[type="radio"] {
      margin-right: 10px;
    }

    .quiz-buttons {
      margin-top: 20px;
      text-align: right;
    }

    .quiz-popup button, .reward-popup button {
      background-color: #ff7b00;
      padding: 8px 15px;
      font-size: 14px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 20px;
      cursor: pointer;
      color: #ccc;
    }

    .close-btn:hover {
      color: rgb(236, 124, 124);
    }

    canvas {
      display: block;
      margin: 10px auto;
      background: white;
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <button onclick="openQuiz()">Quiz</button>
  </div>

  <div class="container">
    <h1>ÄŒÃNSKY MÃšR</h1>
    <img src="https://ipravda.sk/res/2023/09/05/thumbs/velky-cinsky-mur-clanokW.jpg" alt="UkÃ¡Å¾kovÃ½ obrÃ¡zok">
    <p>ÄŒÃNSKY MÃšR je starÃ½ systÃ©m opevnenia, ktorÃ½ sa Å¥ahÃ¡ naprieÄ severnou ÄŒÃ­nou. DneÅ¡nÃ½ vzhÄ¾ad mÃ¡ predovÅ¡etkÃ½m z vÃ½stavby z 15. aÅ¾ zaÄiatku 17. storoÄia za dynastie Ming. Jeho ÃºÄelom bolo chrÃ¡niÅ¥ ÄŒÃ­nu pred mongolskÃ½mi vpÃ¡dmi. PodobnÃ© opevnenia proti vpÃ¡dom koÄovnÃ½ch kmeÅˆov boli vÅ¡ak budovanÃ© uÅ¾ v dÃ¡vnejÅ¡Ã­ch dobÃ¡ch.</p>
    <a href="subor.pdf" download>
      <button class="download">Klikni pre stiahnutie broÅ¾Ãºrky</button>
    </a>
  </div>

  <!-- KvÃ­z -->
  <div class="quiz-popup" id="quiz">
    <div class="close-btn" onclick="closeQuiz()">âœ–</div>
    <h2>Quiz o ÄŒÃNSKOM MÃšRE</h2>
    <form id="quizForm">
      <p>1. Aky dlhÃ½ je ÄŒÃNSKY MÃšR?<br>
        <input type="radio" name="q1" value="zle">21 169km<br>
        <input type="radio" name="q1" value="spravne">21 196km
      </p>
      <p>2. kde je ÄŒÃNSKY MÃšR?<br>
        <input type="radio" name="q2" value="spravne">v ÄŒÃNE<br>
        <input type="radio" name="q2" value="zle">v JAPONSKU
      </p>
      <p>3. je ÄŒÃNSKY MÃšR v UNESCO?<br>
        <input type="radio" name="q3" value="spravne">ano<br>
        <input type="radio" name="q3" value="zle">nie
      </p>
      <p>4. ako sa volÃ¡ ÄŒÃNSKY vladca?<br>
        <input type="radio" name="q4" value="zle">cÃ¡r<br>
        <input type="radio" name="q4" value="spravne">cisÃ¡r
      </p>
      <p>5. ako sa povie po ÄŒÃNSKY ÄŒÃNSKY MÃšR?<br>
        <input type="radio" name="q5" value="zle">moderna:æ¯å¦ˆ tradiÄna:éºµåŒ…<br>
        <input type="radio" name="q5" value="spravne">moderna:é•¿åŸ tradiÄna:é•·åŸ
      </p>
      <div class="quiz-buttons">
        <button type="button" onclick="checkQuiz()">Hotovo</button>
      </div>
    </form>
  </div>

  <!-- VÃ½sledok -->
  <div class="quiz-popup" id="quiz-res">
    <div class="close-btn" onclick="closeQuizRes()">âœ–</div>
    <h2>VÃ½sledok KvÃ­zu</h2>
    <p id="result"></p>
    <div class="quiz-buttons" id="rewardContainer"></div>
  </div>

  <!-- Odmena - hra -->
  <div class="reward-popup" id="reward-popup">
    <div class="close-btn" onclick="closeReward()">âœ–</div>
    <h2>Mini hra: ÄŒÃ­nsky Ninja!</h2>
    <p>Rezni 5 ÄÃ­nskych znakov kliknutÃ­m!</p>
    <canvas id="ninjaCanvas" width="500" height="400"></canvas>
    <p id="fruitScore">ZÃ¡sahy: 0 / 5</p>
  </div>

  <script>
    function openQuiz() {
      document.getElementById('quiz').style.display = 'block';
      closeQuizRes();
    }

    function closeQuiz() {
      document.getElementById('quiz').style.display = 'none';
      document.getElementById('quizForm').reset();
    }

    function closeQuizRes() {
      document.getElementById('quiz-res').style.display = 'none';
    }

    function checkQuiz() {
      const form = document.getElementById('quizForm');
      const answers = form.querySelectorAll('input[type="radio"]:checked');
      let score = 0;

      answers.forEach(answer => {
        if (answer.value === 'spravne') {
          score++;
        }
      });

      closeQuiz();
      document.getElementById('quiz-res').style.display = 'block';
      document.getElementById('result').innerText = 'Dosiahol si score: ' + score + ' z 5';

      const rewardContainer = document.getElementById('rewardContainer');
      rewardContainer.innerHTML = '';
      if (score === 5) {
        const btn = document.createElement('button');
        btn.textContent = 'ZÃ­skaÅ¥ odmenu';
        btn.onclick = openReward;
        rewardContainer.appendChild(btn);
      }
    }

    // Odmena - hra
    let fruitHits = 0;
    let fruits = [];
    let ctx, canvas;
    let interval;

    function openReward() {
      fruitHits = 0;
      fruits = [];
      document.getElementById('fruitScore').innerText = 'ZÃ¡sahy: 0 / 20';
      document.getElementById('reward-popup').style.display = 'block';
      canvas = document.getElementById('ninjaCanvas');
      ctx = canvas.getContext('2d');
      canvas.addEventListener('click', sliceFruit);
      startFruitGame();
    }

    function closeReward() {
      document.getElementById('reward-popup').style.display = 'none';
      clearInterval(interval);
      canvas.removeEventListener('click', sliceFruit);
    }

    function startFruitGame() {
      interval = setInterval(() => {
        updateFruits();
        drawFruits();
        if (Math.random() < 0.05) spawnFruit();
      }, 50);
    }

    function spawnFruit() {
      const characters = ["é•¿", "åŸ", "ä¸­", "å›½"];
      const char = characters[Math.floor(Math.random() * characters.length)];
      fruits.push({
        x: Math.random() * 450 + 25,
        y: 400,
        vx: (Math.random() - 0.5) * 4,
        vy: -10 - Math.random() * 5,
        char: char
      });
    }

    function updateFruits() {
      fruits.forEach(fruit => {
        fruit.x += fruit.vx;
        fruit.y += fruit.vy;
        fruit.vy += 0.5;
      });
      fruits = fruits.filter(fruit => fruit.y < 420);
    }

    function drawFruits() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.font = "30px Arial";
      ctx.fillStyle = "black";
      fruits.forEach(fruit => {
        ctx.fillText(fruit.char, fruit.x, fruit.y);
      });
    }

    function sliceFruit(e) {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      for (let i = 0; i < fruits.length; i++) {
        let f = fruits[i];
        if (x > f.x - 20 && x < f.x + 20 && y > f.y - 20 && y < f.y + 20) {
          fruits.splice(i, 1);
          fruitHits++;
          document.getElementById('fruitScore').innerText = `ZÃ¡sahy: ${fruitHits} / 20`;
          if (fruitHits >= 20) {
            alert("SkvelÃ©! Si skutoÄnÃ½ ÄÃ­nsky ninja! ğŸ¥‹");
            closeReward();
          }
          break;
        }
      }
    }
  </script>
</body>
</html>
